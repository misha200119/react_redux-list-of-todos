(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{18:function(e,t,c){},29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var r,s=c(11),n=c.n(s),a=c(4),l=c(21),o=c(12),i=c(1),d=Object(i.d)({name:"query",initialState:{text:""},reducers:{setNewQuery:function(e,t){e.text=t.payload}}}),u=d.actions.setNewQuery,j=function(e){return e.query.text},b=d.reducer,h=c(20),O=c(6),m=Object(h.a)({reducerPath:"toDosApi",baseQuery:Object(O.d)({baseUrl:"https://mate.academy/students-api"}),endpoints:function(e){return{getToDos:e.query({query:function(){return"/todos"}}),getUserById:e.query({query:function(e){return"/users/".concat(e)}})}}}),x=m.useGetToDosQuery,p=m.useGetUserByIdQuery,_=Object(i.a)({reducer:Object(o.a)({query:b},m.reducerPath,m.reducer),middleware:function(e){return e().concat(m.middleware)}}),v=c(9),f=c(0),N=c.n(f),y=c(14),U=c.n(y);!function(e){e[e.all=0]="all",e[e.active=1]="active",e[e.completed=2]="completed"}(r||(r={}));c(29);var C=a.e,I=c(2),g=N.a.memo((function(e){var t=e.selectedUserId,c=e.setSelectedUserId,s=e.toDos,n=C(j),l=Object(a.d)(),o=Object(f.useState)(r.all),i=Object(v.a)(o,2),d=i[0],b=i[1],h=Object(f.useState)(!1),O=Object(v.a)(h,2),m=O[0],x=O[1],p=Object(f.useCallback)((function(){var e=n.toLowerCase();return s.filter((function(t){var c=t.title.toLowerCase().includes(e);switch(Number(d)){case r.all:return c;case r.completed:return c&&!0===t.completed;case r.active:return c&&!1===t.completed;default:return t}}))}),[n,s,d]),_=Object(f.useCallback)((function(e){if(m)for(var t=e.length-1;t>0;t-=1){var c=Math.floor(Math.random()*(t+1)),r=[e[c],e[t]];e[t]=r[0],e[c]=r[1]}}),[n,s,d,m]),N=p();return _(N),Object(I.jsxs)("div",{className:"TodoList",children:[Object(I.jsx)("h2",{children:"Todos:"}),Object(I.jsxs)("div",{className:"TodoList__Filter-options",children:[Object(I.jsxs)("label",{children:["Title contain:",Object(I.jsx)("input",{type:"text",value:n,onChange:function(e){var t=e.target;l(u(t.value))}})]}),Object(I.jsxs)("label",{children:["Show only:",Object(I.jsxs)("select",{value:d,onChange:function(e){var t=e.target;b(t.value)},children:[Object(I.jsx)("option",{value:r.all,children:"All"}),Object(I.jsx)("option",{value:r.active,children:"Active"}),Object(I.jsx)("option",{value:r.completed,children:"Completed"})]})]}),Object(I.jsx)("button",{className:U()("button","TodoList__user-button",{"TodoList__user-button--selected":m}),type:"button",onClick:function(){x((function(e){return!e}))},children:"Randomize"})]}),Object(I.jsx)("div",{className:"TodoList__list-container",children:Object(I.jsx)("ul",{className:"TodoList__list",children:N.map((function(e){return Object(I.jsxs)("li",{className:U()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(I.jsx)("p",{children:e.title})]}),Object(I.jsxs)("button",{className:U()("button","TodoList__user-button",{"TodoList__user-button--selected":e.userId===t}),type:"button",onClick:function(){c(e.userId)},children:["User\xa0#",e.userId]})]},e.id)}))})})]})})),L=(c(31),N.a.memo((function(e){var t=e.selectedUserId,c=e.clearSelectedUserId,r=p(String(t),{pollingInterval:0}),s=r.data,n=r.error;return Object(I.jsx)(I.Fragment,{children:!n&&s?Object(I.jsxs)("div",{className:"CurrentUser",children:[Object(I.jsx)("h2",{className:"CurrentUser__title",children:Object(I.jsxs)("span",{children:["Selected user:",s.id]})}),Object(I.jsx)("h3",{className:"CurrentUser__name",children:s.name}),Object(I.jsx)("p",{className:"CurrentUser__email",children:s.email}),Object(I.jsx)("p",{className:"CurrentUser__phone",children:s.phone}),Object(I.jsx)("button",{className:"CurrentUser__btn-clear",type:"button",onClick:c,children:"Clear"})]}):Object(I.jsxs)("div",{className:"CurrentUser",children:[Object(I.jsx)("h2",{className:"CurrentUser__title",children:Object(I.jsx)("span",{children:"Loading Error"})}),Object(I.jsx)("h3",{className:"CurrentUser__name",children:"No user data"})]})})}))),T=(c(18),function(){var e=x("",{pollingInterval:0}),t=e.data,c=e.error,r=Object(f.useState)(0),s=Object(v.a)(r,2),n=s[0],a=s[1];return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)("div",{className:"App__sidebar",children:!c&&t?Object(I.jsx)(g,{toDos:t,setSelectedUserId:a,selectedUserId:n}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h2",{children:"Loading Error"}),Object(I.jsx)("h3",{children:"No toDos data"})]})}),Object(I.jsx)("div",{className:"App__content",children:Object(I.jsx)("div",{className:"App__content-container",children:n?Object(I.jsx)(L,{selectedUserId:n,clearSelectedUserId:function(){a(0)}}):"No user selected"})})]})}),k=(c(32),function(){return Object(I.jsx)(a.a,{store:_,children:Object(I.jsx)(l.a,{children:Object(I.jsx)(T,{})})})});n.a.render(Object(I.jsx)(k,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.1553c9da.chunk.js.map