(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{17:function(e,t,s){},29:function(e,t,s){},31:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){"use strict";s.r(t);var r,o=s(11),n=s.n(o),c=s(4),i=s(12),l=s(1),a=s(19),d=s(5),u=Object(a.a)({reducerPath:"toDosApi",baseQuery:Object(d.d)({baseUrl:"https://mate.academy/students-api"}),endpoints:function(e){return{getToDos:e.query({query:function(){return"/todos"}}),getUserById:e.query({query:function(e){return"/users/".concat(e)}})}}}),j=u.useGetToDosQuery,b=u.useGetUserByIdQuery;!function(e){e[e.all=0]="all",e[e.active=1]="active",e[e.completed=2]="completed"}(r||(r={}));var m={toDos:[],filterByQuery:"",filterCompletedToDos:r.all,isRandomized:!1},h=Object(l.d)({name:"toDos",initialState:m,reducers:{setToDos:function(e,t){e.toDos=t.payload},removeToDoById:function(e,t){e.toDos=e.toDos.filter((function(e){return e.id!==t.payload}))},setFilterByQuery:function(e,t){e.filterByQuery=t.payload},setFilterCompletedToDos:function(e,t){e.filterCompletedToDos=t.payload},setIsRandomized:function(e,t){e.isRandomized=t.payload}}}),p=h.actions,O=p.setToDos,f=p.setFilterByQuery,x=p.setFilterCompletedToDos,_=p.setIsRandomized,v=p.removeToDoById,y=function(e){return e.toDos.filterByQuery},D=function(e){return e.toDos.filterCompletedToDos},T=function(e){return e.toDos.isRandomized},N=function(e){var t=e.toDos,s=t.filterByQuery,o=t.toDos,n=t.filterCompletedToDos,c=t.isRandomized,i=s.toLowerCase(),l=o.filter((function(e){var t=e.title.toLowerCase().includes(i);switch(Number(n)){case r.all:return t;case r.completed:return t&&e.completed;case r.active:return t&&!e.completed;default:return e}}));if(c)for(var a=l.length-1;a>0;a-=1){var d=Math.floor(Math.random()*(a+1)),u=[l[d],l[a]];l[a]=u[0],l[d]=u[1]}return l},C=h.reducer,I=Object(l.a)({reducer:Object(i.a)({toDos:C},u.reducerPath,u.reducer),middleware:function(e){return e().concat(u.middleware)}}),U=s(20),L=s(0),g=s.n(L),B=s(21),k=s(10),Q=s.n(k),S=(s(29),c.e),w=s(2),z=g.a.memo((function(e){var t=e.selectedUserId,s=e.setSelectedUserId,o=e.toDos,n=Object(c.d)();Object(L.useEffect)((function(){n(O(Object(B.a)(o)))}),[]);var i=S(N),l=S(y),a=S(D),d=S(T);return Object(w.jsxs)("div",{className:"TodoList",children:[Object(w.jsx)("h2",{children:"Todos:"}),Object(w.jsxs)("div",{className:"TodoList__Filter-options",children:[Object(w.jsxs)("label",{children:["Title contain:",Object(w.jsx)("input",{type:"text",value:l,onChange:function(e){var t=e.target;n(f(t.value))}})]}),Object(w.jsxs)("label",{children:["Show only:",Object(w.jsxs)("select",{value:a,onChange:function(e){var t=e.target;n(x(t.value))},children:[Object(w.jsx)("option",{value:r.all,children:"All"}),Object(w.jsx)("option",{value:r.active,children:"Active"}),Object(w.jsx)("option",{value:r.completed,children:"Completed"})]})]}),Object(w.jsx)("button",{className:Q()("button","TodoList__user-button",{"TodoList__user-button--selected":d}),type:"button",onClick:function(){n(_(!d))},children:"Randomize"})]}),Object(w.jsx)("div",{className:"TodoList__list-container",children:Object(w.jsx)("ul",{className:"TodoList__list",children:i.map((function(e){return Object(w.jsxs)("li",{className:Q()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(w.jsxs)("label",{children:[Object(w.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(w.jsx)("p",{children:e.title})]}),Object(w.jsxs)("div",{className:"TodoList__btns-container",children:[e.userId&&Object(w.jsxs)("button",{className:Q()("button","TodoList__user-button",{"TodoList__user-button--selected":e.userId===t}),type:"button",onClick:function(){s(e.userId)},children:["User\xa0#",e.userId]}),Object(w.jsx)("button",{className:Q()("button","TodoList__user-button"),type:"button",onClick:function(){n(v(e.id))},children:"X"})]})]},e.id)}))})})]})})),A=(s(31),g.a.memo((function(e){var t=e.selectedUserId,s=e.clearSelectedUserId,r=b(String(t),{pollingInterval:0}),o=r.data,n=r.error;return Object(w.jsx)(w.Fragment,{children:!n&&o?Object(w.jsxs)("div",{className:"CurrentUser",children:[Object(w.jsx)("h2",{className:"CurrentUser__title",children:Object(w.jsxs)("span",{children:["Selected user:",o.id]})}),Object(w.jsx)("h3",{className:"CurrentUser__name",children:o.name}),Object(w.jsx)("p",{className:"CurrentUser__email",children:o.email}),Object(w.jsx)("p",{className:"CurrentUser__phone",children:o.phone}),Object(w.jsx)("button",{className:"CurrentUser__btn-clear",type:"button",onClick:s,children:"Clear"})]}):Object(w.jsxs)("div",{className:"CurrentUser",children:[Object(w.jsx)("h2",{className:"CurrentUser__title",children:Object(w.jsx)("span",{children:"Loading Error"})}),Object(w.jsx)("h3",{className:"CurrentUser__name",children:"No user data"})]})})}))),F=(s(17),function(){var e=j("",{pollingInterval:0}),t=e.data,s=e.error,r=Object(L.useState)(0),o=Object(U.a)(r,2),n=o[0],c=o[1];return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)("div",{className:"App__sidebar",children:!s&&t?Object(w.jsx)(z,{toDos:t,setSelectedUserId:c,selectedUserId:n}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"Loading Error"}),Object(w.jsx)("h3",{children:"No toDos data"})]})}),Object(w.jsx)("div",{className:"App__content",children:Object(w.jsx)("div",{className:"App__content-container",children:n?Object(w.jsx)(A,{selectedUserId:n,clearSelectedUserId:function(){c(0)}}):"No user selected"})})]})}),R=(s(32),function(){return Object(w.jsx)(c.a,{store:I,children:Object(w.jsx)(F,{})})});n.a.render(Object(w.jsx)(R,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.1ffd8cd8.chunk.js.map