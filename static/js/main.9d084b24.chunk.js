(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{16:function(e,t,c){},26:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var r,s=c(10),n=c.n(s),a=c(4),l=c(11),o=c(1),i=Object(o.d)({name:"query",initialState:{text:""},reducers:{setNewQuery:function(e,t){e.text=t.payload}}}),d=i.actions.setNewQuery,u=function(e){return e.query.text},j=i.reducer,b=c(18),h=c(5),O=Object(b.a)({reducerPath:"toDosApi",baseQuery:Object(h.d)({baseUrl:"https://mate.academy/students-api"}),endpoints:function(e){return{getToDos:e.query({query:function(){return"/todos"}}),getUserById:e.query({query:function(e){return"/users/".concat(e)}})}}}),m=O.useGetToDosQuery,p=O.useGetUserByIdQuery,x=Object(o.a)({reducer:Object(l.a)({query:j},O.reducerPath,O.reducer),middleware:function(e){return e().concat(O.middleware)}}),_=c(9),v=c(0),f=c.n(v),N=c(12),y=c.n(N);!function(e){e[e.all=0]="all",e[e.active=1]="active",e[e.completed=2]="completed"}(r||(r={}));c(26);var U=a.e,C=c(2),I=f.a.memo((function(e){var t=e.selectedUserId,c=e.setSelectedUserId,s=e.toDos,n=U(u),l=Object(a.d)(),o=Object(v.useState)(r.all),i=Object(_.a)(o,2),j=i[0],b=i[1],h=Object(v.useState)(!1),O=Object(_.a)(h,2),m=O[0],p=O[1],x=Object(v.useCallback)((function(){var e=n.toLowerCase();return s.filter((function(t){var c=t.title.toLowerCase().includes(e);switch(Number(j)){case r.all:return c;case r.completed:return c&&t.completed;case r.active:return c&&!t.completed;default:return t}}))}),[n,s,j]),f=Object(v.useCallback)((function(e){if(m)for(var t=e.length-1;t>0;t-=1){var c=Math.floor(Math.random()*(t+1)),r=[e[c],e[t]];e[t]=r[0],e[c]=r[1]}}),[n,s,j,m]),N=x();return f(N),Object(C.jsxs)("div",{className:"TodoList",children:[Object(C.jsx)("h2",{children:"Todos:"}),Object(C.jsxs)("div",{className:"TodoList__Filter-options",children:[Object(C.jsxs)("label",{children:["Title contain:",Object(C.jsx)("input",{type:"text",value:n,onChange:function(e){var t=e.target;l(d(t.value))}})]}),Object(C.jsxs)("label",{children:["Show only:",Object(C.jsxs)("select",{value:j,onChange:function(e){var t=e.target;b(t.value)},children:[Object(C.jsx)("option",{value:r.all,children:"All"}),Object(C.jsx)("option",{value:r.active,children:"Active"}),Object(C.jsx)("option",{value:r.completed,children:"Completed"})]})]}),Object(C.jsx)("button",{className:y()("button","TodoList__user-button",{"TodoList__user-button--selected":m}),type:"button",onClick:function(){p((function(e){return!e}))},children:"Randomize"})]}),Object(C.jsx)("div",{className:"TodoList__list-container",children:Object(C.jsx)("ul",{className:"TodoList__list",children:N.map((function(e){return Object(C.jsxs)("li",{className:y()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(C.jsxs)("label",{children:[Object(C.jsx)("input",{type:"checkbox",checked:e.completed,readOnly:!0}),Object(C.jsx)("p",{children:e.title})]}),e.userId&&Object(C.jsxs)("button",{className:y()("button","TodoList__user-button",{"TodoList__user-button--selected":e.userId===t}),type:"button",onClick:function(){c(e.userId)},children:["User\xa0#",e.userId]})]},e.id)}))})})]})})),g=(c(28),f.a.memo((function(e){var t=e.selectedUserId,c=e.clearSelectedUserId,r=p(String(t),{pollingInterval:0}),s=r.data,n=r.error;return Object(C.jsx)(C.Fragment,{children:!n&&s?Object(C.jsxs)("div",{className:"CurrentUser",children:[Object(C.jsx)("h2",{className:"CurrentUser__title",children:Object(C.jsxs)("span",{children:["Selected user:",s.id]})}),Object(C.jsx)("h3",{className:"CurrentUser__name",children:s.name}),Object(C.jsx)("p",{className:"CurrentUser__email",children:s.email}),Object(C.jsx)("p",{className:"CurrentUser__phone",children:s.phone}),Object(C.jsx)("button",{className:"CurrentUser__btn-clear",type:"button",onClick:c,children:"Clear"})]}):Object(C.jsxs)("div",{className:"CurrentUser",children:[Object(C.jsx)("h2",{className:"CurrentUser__title",children:Object(C.jsx)("span",{children:"Loading Error"})}),Object(C.jsx)("h3",{className:"CurrentUser__name",children:"No user data"})]})})}))),L=(c(16),function(){var e=m("",{pollingInterval:0}),t=e.data,c=e.error,r=Object(v.useState)(0),s=Object(_.a)(r,2),n=s[0],a=s[1];return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)("div",{className:"App__sidebar",children:!c&&t?Object(C.jsx)(I,{toDos:t,setSelectedUserId:a,selectedUserId:n}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"Loading Error"}),Object(C.jsx)("h3",{children:"No toDos data"})]})}),Object(C.jsx)("div",{className:"App__content",children:Object(C.jsx)("div",{className:"App__content-container",children:n?Object(C.jsx)(g,{selectedUserId:n,clearSelectedUserId:function(){a(0)}}):"No user selected"})})]})}),T=(c(29),function(){return Object(C.jsx)(a.a,{store:x,children:Object(C.jsx)(L,{})})});n.a.render(Object(C.jsx)(T,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.9d084b24.chunk.js.map